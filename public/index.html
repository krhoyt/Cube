<html>
<head>

<title>Rubik's Cube Solver</title>

<style>
body {
  background-color: #f5f5f5;
} 

video {
  display: none;
}

#camera {
  position: relative;
}

#camera > canvas {
  position: absolute;
}

#camera > svg {
  position: absolute;
}

.template {
  display: none;
}
</style>

</head>
<body>

<div id="camera">

  <!-- Rendering surface -->
  <canvas width="640" height="480"></canvas>

  <!-- Modes -->
  <svg width="640" height="480">
    <defs>
      <!-- Masking -->
      <!-- 2x2x2 -->
      <mask id="two">
        <rect x="0" y="0" width="640" height="480" fill="white"></rect>        
        <rect x="182" y="102" width="130" height="130" rx="6" fill="black"></rect>
        <rect x="182" y="247" width="130" height="130" rx="6" fill="black"></rect>              
        <rect x="327" y="102" width="130" height="130" rx="6" fill="black"></rect>
        <rect x="327" y="247" width="130" height="130" rx="6" fill="black"></rect>      
      </mask>

      <!-- 3x3x3 -->
      <mask id="three">
        <rect x="0" y="0" width="640" height="480" fill="white"></rect>        
        <rect x="95" y="15" width="130" height="130" rx="6" fill="black"></rect>
        <rect x="95" y="175" width="130" height="130" rx="6" fill="black"></rect>      
        <rect x="95" y="335" width="130" height="130" rx="6" fill="black"></rect>
        <rect x="255" y="15" width="130" height="130" rx="6" fill="black"></rect>
        <rect x="255" y="175" width="130" height="130" rx="6" fill="black"></rect>      
        <rect x="255" y="335" width="130" height="130" rx="6" fill="black"></rect>                  
        <rect x="415" y="15" width="130" height="130" rx="6" fill="black"></rect>
        <rect x="415" y="175" width="130" height="130" rx="6" fill="black"></rect>      
        <rect x="415" y="335" width="130" height="130" rx="6" fill="black"></rect>
      </mask>      
    </defs>

    <!-- Apply -->
    <rect x="0" y="0" width="640" height="480" fill="rgba( 0, 0, 0, 0.20 )" style="mask: url( #three );"></rect>
  </svg>

</div>

<!-- Web camera -->
<!-- Not visible -->
<video width="640" height="480"></video>

<!-- Face template -->
<svg class="face template" width="93" height="93">
  <!-- Row -->
  <rect width="31" height="31" rx="4"></rect> 
  <rect class="cubies" x="2" y="2" width="27" height="27" rx="2" fill="lightgrey"></rect>
  <rect x="31" width="31" height="31" rx="4"></rect> 
  <rect class="cubies" x="33" y="2" width="27" height="27" rx="2" fill="lightgrey"></rect>  
  <rect x="62" width="31" height="31" rx="4"></rect> 
  <rect class="cubies" x="64" y="2" width="27" height="27" rx="2" fill="lightgrey"></rect>

  <!-- Row -->
  <rect y="30" width="31" height="31" rx="4"></rect> 
  <rect class="cubies" x="2" y="32" width="27" height="27" rx="2" fill="lightgrey"></rect>
  <rect x="31" y="30" width="31" height="31" rx="4"></rect> 
  <rect class="side cubies" x="33" y="32" width="27" height="27" rx="2" fill="green"></rect>  
  <rect x="62" y="30" width="31" height="31" rx="4"></rect> 
  <rect class="cubies" x="64" y="32" width="27" height="27" rx="2" fill="lightgrey"></rect>    

  <!-- Row -->
  <rect y="60" width="31" height="31" rx="4"></rect> 
  <rect class="cubies" x="2" y="62" width="27" height="27" rx="2" fill="lightgrey"></rect>
  <rect x="31" y="60" width="31" height="31" rx="4"></rect> 
  <rect class="cubies" x="33" y="62" width="27" height="27" rx="2" fill="lightgrey"></rect>  
  <rect x="62" y="60" width="31" height="31" rx="4"></rect> 
  <rect class="cubies" x="64" y="62" width="27" height="27" rx="2" fill="lightgrey"></rect>      
</svg>

<!-- ThreeJS -->
<script src="../lib/mrdoob/three.js"></script>
<script src="../lib/mrdoob/OrbitControls.js"></script>

<!-- TweenMax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>

<!-- Application -->
<script src="script/palette.js"></script>
<script src="script/cubicle.js"></script>
<script src="script/camera.js"></script>
<script src="script/face.js"></script>
<script src="script/solver.js"></script>

</body>
</html>
